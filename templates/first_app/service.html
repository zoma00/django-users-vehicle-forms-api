{% extends "first_app/base.html" %}

{% block content %}

<!DOCTYPE html>
<html>
  <head>
    <title>Vehicles and Services</title>
  </head>
  <body>
    <h1>Vehicles and Services</h1>
    
      
  <style>
    table, th, td {
      border: 1px solid black;
      border-collapse: collapse;
      padding: 5px;
    }
    th {
      text-align: left;
    }
    caption {
      font-weight: bold;
      padding: 10px;
    }
     h1 {
    color:mediumvioletred;
  }
  caption{
    color:maroon;
  }
  th{
    color: red;
  }
  body{
    background-color: aliceblue;
  }
  </style>

    
    <table>
      <thead>
        <tr>
          <th>id</th>
          <th>Vehicle Type</th>
          <th>Model Name (Year)</th>
          <th>Client</th>
          <th>Services</th>
          <th>Service Description</th>
        </tr>
      </thead>
      <tbody>
        {% for vehicle in vehicles %}
        <tr>
          <td>{{vehicle.id}}</td>
          <td>{{ vehicle.type_name }}</td>
          <td>
            {% if vehicle.type_name %}
              {{ vehicle.model_name }} ({{ vehicle.year }})
            {% else %}
              ({{ vehicle.year }})
            {% endif %}
          </td>
          <td>
            {% if vehicle.client %}
              {{ vehicle.client }}
            {% else %}
              N/A
            {% endif %}
          </td>
          {% endfor %}
          <td>
            <ul>
        {% for service in vehicle.services.all %}
                {%if vehicle.services.count > 0 %}
                  <td>{{ vehicle.service.first.name }}</td>
                  <td>{{ vehicle.service.first.name }}</td>

                    <td>{{ vehicle.services.first.descrioption }}</td>

                  {% else %}

                    <td>No service information available </td>
                    <td></td>
               {% endif %}
        {% endfor %}

                </tr>
            </tbody>
          </table>
        </body>
</html>
{% endblock %}
